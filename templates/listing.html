<!doctype html>
<html lang="en">

<head>
    <title>ExoticDrive Listing</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Link to stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/icomoon/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-datepicker.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery.fancybox.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.theme.default.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/flaticon/font/flaticon.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/aos.css') }}">

    <!-- MAIN CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Link to JavaScript files -->
    <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.sticky.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.waypoints.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.animateNumber.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.fancybox.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.easing.1.3.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap-datepicker.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/aos.js') }}"></script>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <style>
      /* Center the car cards and the pagination */
.row.justify-content-center {
    display: flex;
    justify-content: center;
}

/* Center the pagination links and make them inline */
.custom-pagination {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.page-link {
    text-decoration: none;
    color: #007bff;
    font-size: 1.2rem;
    font-weight: bold;
}

.page-link:hover {
    color: #0056b3;
}

/* Zoom effect on the car card */
.car-card {
    transition: transform 0.3s ease-in-out;
}

.car-card.zoomed {
    transform: scale(1.1); /* Zoom in effect */
}

/* Style to ensure images inside cards are centered properly */
.listing-img {
    display: flex;
    justify-content: center;
    align-items: center;
}

    </style>
    <style>
      .listing-img {
        position: relative;
        width: 100%;
        height: 300px; /* Set a fixed height for the image container */
        overflow: hidden;
      }
    
      .car-image {
        object-fit: cover; /* This ensures the image fills the container and maintains aspect ratio */
        width: 100%;
        height: 100%;
      }
    
      .navigate-left, .navigate-right {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 24px;
        color: #fff;
        background: rgba(0, 0, 0, 0.5);
        border: none;
        padding: 10px;
        cursor: pointer;
      }
    
      .navigate-left {
        left: 10px;
      }
    
      .navigate-right {
        right: 10px;
      }

      /* Centering the car name */
.car-name {
  text-align: center;
  font-size: 1.5rem; /* Adjust as needed */
  margin: 15px 0; /* Optional: Adds space above and below */
}

/* Setting a fixed size for the car image */
.car-image {
  width: 800px; /* Set the desired width */
  height: 500px; /* Set the desired height */
  object-fit: cover; /* Ensures the image covers the area without stretching */
  display: block;
  margin-left: auto;
  margin-right: auto;
}

    </style>
    
</head>

  <body>

    
    <div class="site-wrap" id="home-section">

      <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
          <div class="site-mobile-menu-close mt-3">
            <span class="icon-close2 js-menu-toggle"></span>
          </div>
        </div>
        <div class="site-mobile-menu-body"></div>
      </div>



      <header class="site-navbar site-navbar-target" role="banner">

        <div class="container">
          <div class="row align-items-center position-relative">

            <div class="col-3">
              <div class="site-logo">
                <a href="#"><strong>ExoticDrive</strong></a>
              </div>
            </div>

            <div class="col-9  text-right">
              
              <span class="d-inline-block d-lg-none"><a href="#" class=" site-menu-toggle js-menu-toggle py-5 "><span class="icon-menu h3 text-black"></span></a></span>

              <nav class="site-navigation text-right ml-auto d-none d-lg-block" role="navigation">
                <ul class="site-menu main-menu js-clone-nav ml-auto">
                    <li><a href="{{ url_for('dashboard') }}" class="nav-link">Dashboard</a></li>
                    <li class="active"><a href="{{ url_for('listing') }}" class="nav-link">Listing</a></li>
                    <li><a href="{{ url_for('testimonials') }}" class="nav-link">Testimonials</a></li>
                    <li><a href="{{ url_for('about') }}" class="nav-link">About</a></li>
                    <li><a href="{{ url_for('contact') }}" class="nav-link">Contact</a></li>
                </ul>
            </nav>      
            </div>

            
          </div>
        </div>

      </header>

      
      <div class="hero inner-page" style="background-image: url('images/hero_1_a.jpg');">
        
        <div class="container">
          <div class="row align-items-end ">
            <div class="col-lg-5">

              <div class="intro">
                <h1><strong>Car Listing Details</strong></h1>
              </div>

            </div>
          </div>
        </div>
      </div>
  



      

    <div class="site-section bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-7">
            <h2 class="section-heading"><strong>Car Listing Details</strong></h2>
            <!-- <p class="mb-5">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>     -->
          </div>
        </div>
        

        <div class="site-section bg-light">
          <div class="container">
            <!-- Car Cards -->
            <div class="row">
              <div class="col-md-12 text-center">
                <div class="car-card-container">
                  {% for car in cars %}
                  <div class="car-card" id="car-card-{{ loop.index }}" style="display: none;">
                    <div class="listing-img h-100">
                      <img src="data:image/jpeg;base64,{{ car['images'][0] }}" alt="Car Image" class="img-fluid car-image" id="car-image-{{ loop.index }}" data-images="{{ car['images'] | join(',') }}" data-current-index="0">
                      <!-- Navigation Buttons -->
                      <button class="navigate-left" onclick="navigateCarImage({{ loop.index }}, -1)">&#8249;</button>
                      <button class="navigate-right" onclick="navigateCarImage({{ loop.index }}, 1)">&#8250;</button>
                    </div>
                    
                    <h3 class="car-name">{{ car['marque'] }} {{ car['modele'] }}</h3>
                    <div class="rent-price">
                      </div>
                    </div>
                  </div>
                  {% endfor %}
                  <!-- Pagination -->
<div class="row">
  <div class="col-12 text-center">
    <div class="custom-pagination" id="pagination-container">
      <!-- Pagination links will be inserted here dynamically -->
    </div>
  </div>
</div>

                </div>
              </div>
            </div>
        
           
          </div>
        </div>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
          $(document).ready(function() {
            // Define the total number of cars
            const totalCars = {{ cars | length }}; // Total number of cars (adjust this dynamically)
            const carsPerPage = 1; // Show only one car per page
            const totalPages = totalCars; // Number of pages equals the number of cars
        
            // Generate the pagination links dynamically
            const paginationContainer = $('#pagination-container');
            paginationContainer.empty(); // Clear any existing pagination
        
            // Create page links (one for each car)
            for (let i = 1; i <= totalPages; i++) {
              paginationContainer.append(`<a href="#" class="page-link" data-page="${i}">${i}</a>`);
            }
        
            // Event listener for pagination click
            $(document).on('click', '.page-link', function(e) {
              e.preventDefault();
              const page = $(this).data('page');
              handlePageChange(page);
            });
        
            // Show the first car when the page loads
            handlePageChange(1);
          });
        
          // Function to handle page change
          function handlePageChange(page) {
            const totalCars = {{ cars | length }}; // Total number of cars
            const carsPerPage = 1; // Number of cars to display per page
            const startIndex = (page - 1) * carsPerPage;
            const endIndex = page * carsPerPage;
        
            // Hide all car cards first
            $('.car-card').hide(); 
        
            // Show the car corresponding to the current page
            $(`.car-card`).slice(startIndex, endIndex).show();
        
            // Set active class on current page and update the car display
            $('.page-link').removeClass('active');
            $(`.page-link[data-page="${page}"]`).addClass('active');
          }
        </script>
        
        <script>
          $(document).ready(function() {
            // Show the first car by default
            $('#car-card-1').show();
        
            // Pagination click handler
            $('.page-link').click(function(e) {
              e.preventDefault();
        
              // Get the selected page number
              var pageIndex = $(this).data('page');
        
              // Hide the currently visible car card
              var currentCarCard = $('.car-card:visible');
              var currentCarIndex = currentCarCard.attr('id').split('-')[2];
        
              // Animate the current images back into the car card
              var currentImages = $(`#car-image-${currentCarIndex}`);
              currentImages.animate({
                opacity: 0
              }, 500, function() {
                // When the images are fully hidden, switch to the new car
                currentCarCard.fadeOut(500);
                
                // Show the selected car card
                var nextCarCard = $(`#car-card-${pageIndex}`);
                nextCarCard.fadeIn(500, function() {
                  // Animate the images of the new car to show up
                  var nextImages = $(`#car-image-${pageIndex}`);
                  nextImages.animate({
                    opacity: 1
                  }, 500);
                });
              });
            });
          });
        
          // Function to navigate through the car's images
          function navigateCarImage(carIndex, direction) {
            const imgElement = $(`#car-image-${carIndex}`);
            const images = imgElement.data('images').split(','); // Get the array of images
            let currentIndex = parseInt(imgElement.attr('data-current-index')); // Current index
            
            // Calculate new index
            currentIndex = (currentIndex + direction + images.length) % images.length;
        
            // Update the image src and current index with smooth transition
            imgElement.fadeOut(300, function() {
              imgElement.attr('src', `data:image/jpeg;base64,${images[currentIndex]}`);
              imgElement.attr('data-current-index', currentIndex);
              imgElement.fadeIn(300);
            });
          }
        </script>
        
        
      </div>
    </div>

    



      
    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-3">
            <h2 class="footer-heading mb-4">About Us</h2>
            <p>We offer a wide range of cars to suit every need, from daily commutes to luxurious road trips. Our goal is to provide top-quality vehicles with seamless booking and reliable service. Join us and drive with confidence!</p>
            <ul class="list-unstyled social">
              <li><a href="#" class="social-icon"><span class="icon-facebook"></span></a></li>
              <li><a href="#" class="social-icon"><span class="icon-instagram"></span></a></li>
              <li><a href="#" class="social-icon"><span class="icon-twitter"></span></a></li>
              <li><a href="#" class="social-icon"><span class="icon-linkedin"></span></a></li>
            </ul>
          </div>
          
          <div class="col-lg-8 ml-auto">
            <div class="row">
              <div class="col-lg-3">
                <h2 class="footer-heading mb-4">Quick Links</h2>
                <ul class="list-unstyled">
                  <li><a href="#">About Us</a></li>
                  <li><a href="#">Testimonials</a></li>
                  <li><a href="#">Terms of Service</a></li>
                  <li><a href="#">Privacy</a></li>
                  <li><a href="#">Contact Us</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="row pt-5 mt-5 text-center">
          <div class="col-md-12">
            <div class="border-top pt-5">
              <p>
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | <i class="icon-heart text-danger" aria-hidden="true"></i> by <a target="_blank" >AZIZ MOSBAHI</a>
            </p>
            </div>
          </div>

        </div>
      </div>
    </footer>

    </div>


  </body>

</html>

